2023-09-18 12:54:07,014 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 100, in get_devices_data
    prtg_name_device = prtg_data.get('prtg_name_device', 'Not Found')
AttributeError: 'NoneType' object has no attribute 'get'

2023-09-18 12:54:07,014 - ERROR - 10.225.1.78
2023-09-18 12:55:46,625 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 100, in get_devices_data
    prtg_name_device = prtg_data.get('prtg_name_device', 'Not Found')
AttributeError: 'NoneType' object has no attribute 'get'

2023-09-18 12:55:46,625 - ERROR - 10.225.1.78
2023-09-18 12:56:28,371 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 100, in get_devices_data
    prtg_name_device = prtg_data.get('prtg_name_device', 'Not Found')
AttributeError: 'NoneType' object has no attribute 'get'

2023-09-18 12:56:28,371 - ERROR - 10.225.1.78
2023-09-29 08:32:55,371 - ERROR: Error Controladora Device 10.117.115.181
2023-09-29 08:32:55,371 - ERROR: Error Controladora Device 10.117.115.181
2023-09-29 08:32:55,371 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-09-29 08:32:55,371 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-10-02 09:13:00,258 - ERROR - Error con la data en la funcion xml_to_dict <Element 'historicdata' at 0x7f5d89b3ac50>: could not convert string to float: ''
2023-10-02 09:13:01,606 - ERROR - Error desconocido con la ip 10.224.126.93
2023-10-02 09:13:01,606 - ERROR - Error: 1265 (01000): Data truncated for column 'last_uptime_percent' at row 1
2023-10-02 09:13:01,606 - ERROR - TRAZABILIDAD: Traceback (most recent call last):
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in cmd_query
    self._cmysql.query(
_mysql_connector.MySQLInterfaceError: Data truncated for column 'last_uptime_percent' at row 1

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Wan/main.py", line 98, in get_uptime
    save_bd(data_wan)
  File "/home/donkami/Sona/devnet-candelaria/Services/Wan/main.py", line 219, in save_bd
    cursor.execute(query + values)
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/cursor_cext.py", line 330, in execute
    result = self._cnx.cmd_query(
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 619, in cmd_query
    raise get_mysql_exception(
mysql.connector.errors.DatabaseError: 1265 (01000): Data truncated for column 'last_uptime_percent' at row 1

2023-10-02 09:17:04,556 - ERROR - Error con la data en la funcion xml_to_dict <Element 'historicdata' at 0x7f1016d36b60>: could not convert string to float: ''
2023-10-02 09:17:05,904 - ERROR - Error desconocido con la ip 10.224.126.93
2023-10-02 09:17:05,905 - ERROR - Error: 1265 (01000): Data truncated for column 'last_uptime_percent' at row 1
2023-10-02 09:17:05,905 - ERROR - TRAZABILIDAD: Traceback (most recent call last):
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 611, in cmd_query
    self._cmysql.query(
_mysql_connector.MySQLInterfaceError: Data truncated for column 'last_uptime_percent' at row 1

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Wan/main.py", line 98, in get_uptime
    save_bd(data_wan)
  File "/home/donkami/Sona/devnet-candelaria/Services/Wan/main.py", line 219, in save_bd
    cursor.execute(query + values)
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/cursor_cext.py", line 330, in execute
    result = self._cnx.cmd_query(
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 619, in cmd_query
    raise get_mysql_exception(
mysql.connector.errors.DatabaseError: 1265 (01000): Data truncated for column 'last_uptime_percent' at row 1

2023-10-02 10:24:46,336 - ERROR: Error Controladora Device 10.117.115.110
2023-10-02 10:24:46,336 - ERROR: Error Controladora Device 10.117.115.110
2023-10-02 10:24:46,336 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 35, in get_data_controladora
    data_pala = net_connect.send_command(f"sh wireless client summary detail ipv4 | inc {device_ip}") #! Ip Pala
  File "/home/donkami/.local/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/donkami/.local/lib/python3.10/site-packages/netmiko/base_connection.py", line 1721, in send_command
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 
Pattern not detected: 'WLC\\-9800\\-MESH\\-CD>' in output.

Things you might try to fix this:
1. Explicitly set your pattern using the expect_string argument.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-10-02 10:24:46,336 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 35, in get_data_controladora
    data_pala = net_connect.send_command(f"sh wireless client summary detail ipv4 | inc {device_ip}") #! Ip Pala
  File "/home/donkami/.local/lib/python3.10/site-packages/netmiko/utilities.py", line 592, in wrapper_decorator
    return func(self, *args, **kwargs)
  File "/home/donkami/.local/lib/python3.10/site-packages/netmiko/base_connection.py", line 1721, in send_command
    raise ReadTimeout(msg)
netmiko.exceptions.ReadTimeout: 
Pattern not detected: 'WLC\\-9800\\-MESH\\-CD>' in output.

Things you might try to fix this:
1. Explicitly set your pattern using the expect_string argument.
2. Increase the read_timeout to a larger value.

You can also look at the Netmiko session_log or debug log for more information.



2023-10-02 10:26:05,124 - ERROR: Error Controladora Device 10.117.115.180
2023-10-02 10:26:05,124 - ERROR: Error Controladora Device 10.117.115.180
2023-10-02 10:26:05,125 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-10-02 10:26:05,125 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-10-02 10:26:25,972 - ERROR: Error Controladora Device 10.117.115.181
2023-10-02 10:26:25,972 - ERROR: Error Controladora Device 10.117.115.181
2023-10-02 10:26:25,972 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-10-02 10:26:25,972 - ERROR: Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Mesh/controladora.py", line 38, in get_data_controladora
    output = net_connect.send_command("sh wireless client mac-address " + data_pala.split()[0] + " detail")
IndexError: list index out of range

2023-10-03 11:55:13,307 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 87, in get_devices_data
    is_databackup = cisco_data['is_databackup']
KeyError: 'is_databackup'

2023-10-03 11:55:13,316 - ERROR - 10.225.1.78
2023-10-03 16:20:11,542 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/prueba.py", line 178, in get_devices_data
    cursor.execute(query)
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/cursor_cext.py", line 303, in execute
    self._cnx.handle_unread_result()
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 932, in handle_unread_result
    raise InternalError("Unread result found")
mysql.connector.errors.InternalError: Unread result found

2023-10-03 16:20:11,542 - ERROR - 10.225.6.17
2023-10-03 16:21:42,469 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 91, in get_devices_data
    cursor.execute(query)
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/cursor_cext.py", line 303, in execute
    self._cnx.handle_unread_result()
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 932, in handle_unread_result
    raise InternalError("Unread result found")
mysql.connector.errors.InternalError: Unread result found

2023-10-03 16:21:42,469 - ERROR - 10.225.6.17
2023-10-03 16:22:37,093 - ERROR - Traceback (most recent call last):
  File "/home/donkami/Sona/devnet-candelaria/Services/Camaras/main.py", line 93, in get_devices_data
    mydb.commit()
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/cursor_cext.py", line 303, in execute
    self._cnx.handle_unread_result()
  File "/home/donkami/.local/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 932, in handle_unread_result
    raise InternalError("Unread result found")
mysql.connector.errors.InternalError: Unread result found

2023-10-03 16:22:37,093 - ERROR - 10.225.6.17
2023-10-06 08:10:28,903 - ERROR - Error en el segundo Try, FW 10.230.6.7
2023-10-06 08:10:28,904 - ERROR - TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: fortinet 10.230.6.7:2221


2023-10-06 08:42:55,552 - ERROR - Error en el segundo Try, FW 10.230.6.7
2023-10-06 08:42:55,552 - ERROR - TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: fortinet 10.230.6.7:2221


2023-10-06 08:45:22,559 - ERROR - Error en el segundo Try, FW 10.230.6.7
2023-10-06 08:45:22,559 - ERROR - TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: fortinet 10.230.6.7:2221


2023-10-10 14:32:58,946 - ERROR - Error de bajo nivel, posible error en Netmiko
2023-10-10 14:32:58,947 - ERROR - number_users() takes 3 positional arguments but 5 were given
2023-10-10 15:09:43,751 - ERROR - Error en el segundo Try, FW 10.230.6.7
2023-10-10 15:09:43,751 - ERROR - TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: fortinet 10.230.6.7:2221


2023-10-11 16:28:48,650 - ERROR - Error en el segundo Try, FW 10.230.6.7
2023-10-11 16:28:48,660 - ERROR - TCP connection to device failed.

Common causes of this problem are:
1. Incorrect hostname or IP address.
2. Wrong TCP port.
3. Intermediate firewall blocking access.

Device settings: fortinet 10.230.6.7:2221


